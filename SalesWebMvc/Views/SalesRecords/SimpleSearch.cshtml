@model IEnumerable<SalesWebMvc.Models.SalesRecord>
@{
	ViewData["Title"] = "Simple Search";
}

<h2>@ViewData["Title"]</h2>

<nav class="navbar navbar-dark bg-dark">
	<div class="container-fluid">
		<form class="form-inline" role="search">
			<div class="form-group mr-2">
				<label for="minDate" class="mr-2 text-white">Min Date</label>
				<input type="date" class="form-control" name="minDate" id="minDate" value=@ViewData["minDate"]>
			</div>
			<div class="form-group mr-2">
				<label for="maxDate" class="mr-2 text-white">Max Date</label>
				<input type="date" class="form-control" name="maxDate" id="maxDate" value=@ViewData["maxDate"]>
			</div>
			<button type="submit" class="btn btn-primary">Filter</button>
		</form>
	</div>
</nav>

<div class="panel panel-primary">
	<div class="panel-heading">
		<h3 class="panel-title">Total sales = @Model.Sum(obj => obj.Amount).ToString("F2")</h3>
	</div>
	<div class="panel-body">
		<table class="table table-striped table-hover">
			<thead>
				<tr class="sucess">
					<th>
						@Html.DisplayNameFor(model => model.Id)
					</th>
					<th>
						@Html.DisplayNameFor(model => model.Date)
					</th>
					<th>
						@Html.DisplayNameFor(model => model.Seller)
					</th>
					<th>
						@Html.DisplayNameFor(model => model.Seller.Department)
					</th>
					<th>
						@Html.DisplayNameFor(model => model.Amount)
					</th>
					<th>
						@Html.DisplayNameFor(model => model.Status)
					</th>
				</tr>
			</thead>
			<tbody>
				@foreach(var item in Model)
				{
					<tr>
						<td>
							@Html.DisplayFor(modelItem => item.Id)
						</td>
						<td>
							@Html.DisplayFor(modelItem => item.Date)
						</td>
						<td>
							@Html.DisplayFor(modelItem => item.Seller.Name)
						</td>
						<td>
							@Html.DisplayFor(modelItem => item.Seller.Department.Name)
						</td>
						<td>
							@Html.DisplayFor(modelItem => item.Amount)
						</td>
						<td>
							@Html.DisplayFor(modelItem => item.Status)
						</td>
					</tr>
				}
			</tbody>
		</table>
	</div>
</div>